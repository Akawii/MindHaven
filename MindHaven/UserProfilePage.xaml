<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MindHaven.UserProfilePage">

    <Grid>
        <!-- Menu Button on Top Left Corner (Opens Menu) -->
        <Button x:Name="MenuButton"
                Text="☰"
                FontSize="24"
                BackgroundColor="Transparent"
                Clicked="OnMenuButtonClicked"
                HorizontalOptions="Start"
                VerticalOptions="Start"
                Margin="10"
                ZIndex="10" />

        <!-- Full-Height Sliding Menu -->
        <Frame x:Name="MenuPopup"
               IsVisible="False"
               Padding="15"
               CornerRadius="0"
               BackgroundColor="{StaticResource BackgroundDark}"
               VerticalOptions="FillAndExpand"
               HorizontalOptions="Start"
               WidthRequest="250"
               TranslationX="-250"
               IsClippedToBounds="True"
               ZIndex="9">
            <Grid>
                <!-- Close Menu Button -->
                <Button x:Name="CloseMenuButton"
                        Text="←"
                        FontSize="24"
                        BackgroundColor="Transparent"
                        Clicked="OnMenuButtonClicked"
                        HorizontalOptions="Start"
                        VerticalOptions="Start"
                        Margin="10"/>

                <!-- Menu Items -->
                <VerticalStackLayout Spacing="10" Padding="20" Margin="0,40,0,0">
                    <Label Text="Menu"
                           FontSize="20"
                           FontAttributes="Bold"
                           TextColor="{StaticResource TextColorLight}"/>

                    <Button Text="Main Menu"
                            Clicked="OnMainMenuClicked"
                            BackgroundColor="{StaticResource PrimaryColor}"
                            TextColor="White"/>

                    <Button Text="Reports"
                            Clicked="OnReportsClicked"
                            BackgroundColor="{StaticResource PrimaryColor}"
                            TextColor="White"/>
                </VerticalStackLayout>
            </Grid>
        </Frame>

        <!-- Main Content -->
        <ScrollView>
            <VerticalStackLayout Padding="30" Spacing="15" VerticalOptions="Center" ZIndex="0">
                <!-- Profile Image -->
                <Frame WidthRequest="100"
                       HeightRequest="100"
                       CornerRadius="50"
                       IsClippedToBounds="True"
                       Padding="0"
                       HorizontalOptions="Center"
                       VerticalOptions="Center">
                <Image x:Name="ProfileImage"
                       WidthRequest="100"
                       HeightRequest="100"
                       Aspect="AspectFill" />
                    
                </Frame>

                <Button x:Name="ChoosePictureButton"
                        Text="Choose Another Picture"
                        Clicked="OnChoosePictureClicked"
                        BackgroundColor="{StaticResource SecondaryColor}"
                        TextColor="White"
                        HorizontalOptions="Center"/>


                <!-- Title -->
                <Label Text="User Profile" FontSize="24" FontAttributes="Bold" 
                       HorizontalOptions="Center" TextColor="{StaticResource TextColorLight}"/>

                <!-- User Info Fields -->
                <Entry x:Name="FirstName" Placeholder="First Name" IsReadOnly="false"/>
                <Entry x:Name="LastName" Placeholder="Last Name" IsReadOnly="false"/>
                <Entry x:Name="UserName" Placeholder="Username" IsReadOnly="false"/>
                <Entry x:Name="UserEmail" Placeholder="Email" IsReadOnly="false"/>
                <Entry x:Name="UserBirthday" Placeholder="Birthday" IsReadOnly="false"/>

                <!-- Save Button -->
                <Button x:Name="SaveButton"
                        Text="Save Changes"
                        Clicked="OnSaveClicked"
                        BackgroundColor="{StaticResource PrimaryColor}"
                        TextColor="White" />
            </VerticalStackLayout>
        </ScrollView>
    </Grid>

</ContentPage>
